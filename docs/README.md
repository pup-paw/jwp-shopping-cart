# 장바구니 - 협업 미션

## 페어 규칙

- 교대 시간은 10분으로 지정한다.
- github과 본인 장비를 활용하여 진행한다.
- 커밋 메시지는 한글로
- 테스트 메서드명은 영어로 하고 DisplayName 을 한글로
- 일일회고를 진행한다. (목표를 잘 지키며 개발했는지 이야기 나누기)

## 목표

### 공통

- 프론트와 협업을 하며 API 를 작성할때 어떤 부분을 중심적으로 논의해야 할지 고민하고, 기록해두기
- 항상 의식적으로 근거를 가지고 코드 짜기

### 매트

- 현재 알고 있는 Spring MVC에 대한 구조를 다시 한 번 인지하며 해당 기술을 적절히 활용하기
- 처음부터 너무 과하게 설계하지 않기
- MVC 를 다시 한번 공부하며 페어의 이해를 돕기 위해 노력하기

### 야호

- ATDD 를 중심으로 개발하기
- auth 에 대한 대략적인 흐름을 파악해보기

### 기능 목록

[링크](https://www.notion.so/0f0d2f9b1c4b4f6cb02b0f7215f8cccc)

- 회원가입
    - [x] 모든 필드는 null이 될 수 없다.
    - [x] 이메일 형식에 대한 검증 (test@test.com)
    - [x] 비밀번호는 10자에서 20자 사이
    - [x] 전화번호 형식에 대한 검증 (000-0000-0000)
- [x] 회원 정보 조회
- [x] 로그인
- 회원 정보 수정
    - [x] 모든 필드는 null이 될 수 없다.
    - [x] 전화번호 형식에 대한 검증 (000-0000-0000)
- [x] 회원 탈퇴

### 도메인 설계

- Customer
    - email
    - password
    - address
    - phoneNumber

### 리팩터링/고민사항

- [ ] 생성자의 매개변수에 동일한 타입이 존재하는 경우 `빌더 패턴 고려 vs 원시값 포장`
- [x] 원시값 포장
- [ ] 동작하는 코드를 우선적으로 개발하기
- [x] customer 생성 및 수정에 관한 validation 추가
- [ ] test fixture 만들기
- [ ] id 기반으로 payload 저장
- [x] token validate 추가
- [ ] BindingResult에 Error가 복수 개인 경우 어떻게 보여지게 할지 고민

### 일정

- 05/29
    - [x] 회원가입
    - [x] 로그인

- 05/30
    - [x] 로그인
    - [x] 회원 정보 조회
    - [x] 회원 정보 수정
    - [x] 회원 정보 삭제

- 05/31
    - [x] jjwt 버전 변경
    - [x] token validate 추가
    - 도메인 검증 추가
        - [x] username
            - username은 `유일`하다.
            - `5`이상 `20`이하 여야 한다.
            - `영문 소문자`, `숫자`와 `특수기호(_), (-)`만 사용 가능하다.
        - [x] email
            - 형식은 `example@email.com`
            - `@`이전에는 `영문 소문자`, `숫자`와 `특수기호(_), (-), (.)`만 사용 가능하다.
            - `@`이후에는 영문 소문자로만 이루어져야 한다.
            - `.`이후에는 영문 소문자 `2~3`글자로 이루어져야 한다.
        - [x] address
            - 길이가 `0 ~ 255` 여야 한다.
        - [x] phoneNumber
            - `010`으로 시작해야 한다.
            - 형식은 `010-0000-0000`이여야 한다.
            - `숫자`만 가능하다.
    - [x] dto validation 추가

- 06/01
    - [x] 원시값 포장
    - [x] acceptance test 에서 중복되는 부분을 test fixture 로 만들기
    - [x] password 검증 추가
        - 비밀번호는 `8 ~ 16자`여야 하고 `영문자`, `숫자`, `특수문자!, @, #, $, %, ^, &, *, (, )`를 모두 사용해야 한다.
    - [ ] password 암호화
